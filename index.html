<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
  <title>Acme Vacation Planner</title>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
  const { Component } = React;
  const { render } = ReactDOM;

  const API = 'https://acme-users-api-rev.herokuapp.com/api';

  const Vacations = ({ startDate, endDate }) => {
    return (
      <form>

      </form>
    )
  }


  class VacationBuilder extends Component {
    constructor(){
      super();
      this.state = {
        startDate: '',
        endDate: ''
      };
      this.onUpdate = this.onUpdate.bind(this);
    }
  }

  const fetchUser = async ()=> {
    const storage = window.localStorage;
    const userId = storage.getItem('userId');
    if(userId){
      try {
        return (await axios.get(`${API}/users/detail/${userId}`)).data;
      }
      catch(ex){
        storage.removeItem('userId');
        return fetchUser();
      }
    }
    const user = (await axios.get(`${API}/users/random`)).data;
    storage.setItem('userId', user.id);
    return  user;
  };

  class App extends Component {
    constructor(){
      super();
    }
    render(){
      return <hr />;
    }
  }
  const root = document.querySelector('#root');
  render(<App />, root);
    // const halloween = moment('31-10-19', 'DD-MM-YY');
    // const m2 = moment('12/31/2019');
    // console.log(m2.diff(halloween, 'days'));
    // console.log(halloween.format('dddd MM-DD-YYYY'));



  </script>
</body>
</html>
